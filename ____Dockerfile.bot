FROM python:3.10-slim
WORKDIR /app
COPY ./bot/requirements.txt ./
RUN pip install --no-cache-dir -r requirements.txt
COPY ./bot/ ./

# Добавим отладочную информацию и проверку файлов
RUN echo "Файлы в директории:" && ls -la
# Добавим проверку существования файла
RUN python -c "import os; assert os.path.exists('miniappbot.py'), 'miniappbot.py не найден'"

# Добавим явное указание выполнить скрипт с параметром
CMD ["python", "-u", "miniappbot.py"] 